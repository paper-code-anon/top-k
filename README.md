# Differentially Private Top-K Selection
This repository contains the code referred to in Differentially Private One-step Top-k Selection 
Algorithms for the Real World


## Dependencies
This library requires Python 3.6. Dependencies have been specified in requirements.txt

To install Python dependencies:

>pip3 install -r requirements.txt

## Applying Differentially Private Top-K Selection to a Dataset
This library has been built with the Pandas Dataframe API and operates on Pandas Dataframes. For 
documentation and further instructions on how to work with Pandas Dataframes, see the Pandas documentation
https://pandas.pydata.org/docs/ 

The Top-k algorithms can be found in top_k_algorithms.py and can be imported and called as required. 
general_top_k_workflow.py contains a reference example for loading data and applying an algorithm.

The algorithms require privacy parameters to determine the degree of privatization to be applied. These parameters are 
conventionally used in differentially private applications, and have been explained in detail
in the paper.

The algorithms accept a Pandas Series object with an index representing a label name and a value representing the 
frequency. This can be easily generated by loading the original records (as df), choosing the attribute, 
and calling df[attribute].value_counts(). This will convert any set of records to a compatible Series format, and is the 
recommended workflow. manage_dataframes.py contains some examples of how input dataframes can be processed.

Each algorithm will return a tuple of results. The zeroth element of the tuple is the Series of results, consisting
of up to k values in the same format as the input Series: the index represents the label and the value represents the 
frequency. As the next elements of the tuple, Algorithm 1 will return the v_perp parameter, epsilon_1 and epsilon_2 that
have been calculated by the algorithm. Algorithm 2 will return only epsilon_1 and epsilon_2 as the other tuple elements.
These values are explained in detail in Section 3 of the paper. 

## γ Experimentation
plot_new_gamma.py contains the code used to generate the γ comparisons used in Figure 7. Input privacy and algorithm 
parameters can be configured to experiment with the rate of violations of completeness across varying β values.
